{"version":3,"sources":["redux/user-helper/follow-unfollow.jsx","redux/users-reducer.jsx","components/Nav/N.Messages/Messages.module.css","components/Nav/N.Messages/MessageItem/messageItem.module.css","components/Login/login-form.module.css","API/api.js","serviceWorker.js","components/Nav/nav.jsx","components/Nav/N.Music/Music.jsx","components/Nav/N.Friends/Friends.jsx","components/Nav/N.Settings/Settings.jsx","components/Nav/N.Messages/MessageItem/MessageItem.jsx","components/Nav/N.Messages/DialogsItem/DialogsItem.jsx","components/Nav/N.Messages/message-form.jsx","components/Nav/N.Messages/Messages.jsx","redux/dialogsPage-reducer.jsx","components/HOC/withAuthRedirect.jsx","components/Nav/N.Messages/message_container.jsx","components/Header/header.jsx","redux/auth-reducer.jsx","components/Header/header-container.jsx","components/Login/Login.jsx","redux/app-reducer.jsx","redux/redux-store.jsx","App.js","index.js","Validation/validation.jsx","components/Commons/MainLoader/FormsControl/forms-control.jsx","components/Commons/MainLoader/FormsControl/forms-control.module.css","components/Nav/N.Messages/DialogsItem/item.module.css","components/Nav/nav.module.css","components/Header/header.module.css","components/Commons/MainLoader/MainLoader.module.css","redux/postPage-reducer.jsx","components/Commons/MainLoader/MainLoader.jsx"],"names":["followUnfollowMethodItem","items","itemId","objPropName","NewObjProps","map","u","initialState","users","pageSize","totalUserCounter","currentPage","isLoading","followingInProgress","followSuccess","userId","type","unfollowSuccess","currentPageAC","setIsLoadingAC","setFollowingLoaderAC","getUser","dispatch","a","usersAPI","getUsers","data","totalCount","followUnfollowMethod","ApiMethod","actionCreator","resultCode","follow","bind","unfollow","UsersReducer","state","action","followed","filter","id","module","exports","instance","axios","withCredentials","baseURL","headers","get","then","response","post","delete","getProfile","console","warn","profileAPI","getStatus","updateStatus","status","put","authAPI","authMe","login","email","password","rememberMe","logOut","Boolean","window","location","hostname","match","Nav","className","s","nav","box","src","to","item_button","activeClassName","ActiveLink","up","Music","Friends","Settings","MessagesItem","props","message","DialogsItem","path","boxDialog","photo","dialogName","Name","MaxLength10","maxLengthCreator","AddMessageReduxForm","reduxForm","form","onSubmit","handleSubmit","Field","component","Textarea","name","validate","required","Messages","dialogsPage","DialogsD","DialogsData","d","MessageD","MessagesData","m","dialogs","values","sendMessage","NewMessage","dialogsPageReducer","newMessage","mapStateToProps","isAuth","auth","compose","Component","RedirectComponent","this","React","connect","ActionCreatorAddMessage","Header","logo","onClick","setAuthAC","payload","AuthReducer","HeaderContainer","LoginReduxForm","placeholder","Input","error","formSummaryError","messages","length","stopSubmit","_error","formData","initialized","AppReducer","reducers","combineReducers","postPage","postPageReducer","usersPage","formReducer","app","composeEnhancers","__REDUX_DEVTOOLS_EXTENSION_COMPOSE__","store","createStore","applyMiddleware","thunkMiddleware","ProfileContainer","lazy","UsersContainer","MyWeb","initializeApp","fallback","render","MainLoader","AppContainer","withRouter","promise","Promise","all","AppWeb","ReactDOM","document","getElementById","navigator","serviceWorker","ready","registration","unregister","catch","value","maxLength","input","meta","ValidError","touched","formControl","PostData","like","profile","ActionCreatorAddPost","NewPostText","setStatus","getUserAPI","newPost","mainBoxLoader","lds_ring"],"mappings":"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","file":"static/js/main.5d32b41f.chunk.js","sourcesContent":["export const followUnfollowMethodItem = (items,itemId, objPropName, NewObjProps) => {\r\n    return items.map( u =>  {\r\n        if (u[objPropName] === itemId) {\r\n            return {...u, ...NewObjProps}\r\n        }\r\n        return u;\r\n    })\r\n}\r\n\r\n\r\n/*  \r\n users: state.users.map( u =>  {\r\n    if (u.id === action.userId) {\r\n        return {...u, followed: true}\r\n    }\r\n    return u;\r\n}) \r\n\r\n*/\r\n","import { usersAPI } from \"../API/api\";\r\nimport {followUnfollowMethodItem} from \"./user-helper/follow-unfollow\"\r\n\r\n\r\nconst FOLLOW = \"FOLLOW\";\r\nconst UNFOLLOW = \"UNFOLLOW\";\r\nconst USERS = \"USERS\";\r\nconst CURRENT_PAGE = \"CURRENT_PAGE\";\r\nconst TOTAL_USER_COUNTER = \"TOTAL_USER_COUNTER\";\r\nconst TOGGLE_IS_LOADING = \"TOGGLE_IS_LOADING\";\r\nconst FOLLOW_STATUS_LOADING = \"FOLLOW_STATUS_LOADING\";\r\n\r\nlet initialState = {\r\n  users: [],\r\n  pageSize: 15,\r\n  totalUserCounter: 0,\r\n  currentPage: 1,\r\n  isLoading: false,\r\n  followingInProgress: []\r\n};\r\n\r\nconst UsersReducer = (state = initialState, action) => {\r\n  switch (action.type) {\r\n    case FOLLOW:\r\n      return {\r\n          ...state,\r\n          users: followUnfollowMethodItem(state.users, action.userId, 'id', {followed: true })\r\n      }\r\n  case UNFOLLOW:\r\n      return {\r\n          ...state,\r\n          users: followUnfollowMethodItem(state.users, action.userId, 'id', {followed: false })\r\n      }\r\n    case USERS:\r\n      return {\r\n        ...state,\r\n        users: action.users\r\n      }\r\n\r\n    case CURRENT_PAGE:\r\n      return {\r\n        ...state,\r\n          currentPage: action.currentPage\r\n      }\r\n\r\n    case TOTAL_USER_COUNTER:\r\n      return {\r\n        ...state,\r\n        totalUserCounter: action.totalUserCounter\r\n      }\r\n\r\n    case TOGGLE_IS_LOADING:\r\n      return {\r\n        ...state,\r\n        isLoading: action.isLoading\r\n      }\r\n    \r\n    case FOLLOW_STATUS_LOADING:\r\n      return {\r\n        ...state, \r\n        followingInProgress: action.isLoading\r\n                    ? [...state.followingInProgress, action.userId]\r\n                    : state.followingInProgress.filter(id => id != action.userId)\r\n   }\r\n\r\n    default:\r\n      return state;\r\n  }\r\n};\r\n\r\n//  Action Creators\r\nexport const followSuccess = (userId) => ({type: 'FOLLOW', userId })\r\nexport const unfollowSuccess = (userId) => ({type: 'UNFOLLOW', userId })\r\nexport const setUserAC = (users) => ({ type: \"USERS\", users });\r\nexport const currentPageAC = (currentPage) => ({type: \"CURRENT_PAGE\", currentPage})\r\nexport const totalUserCounterAC = (totalUserCounter) => ({ type: \"TOTAL_USER_COUNTER\", totalUserCounter });\r\nexport const setIsLoadingAC = (isLoading) => ({ type: \"TOGGLE_IS_LOADING\", isLoading });\r\nexport const setFollowingLoaderAC = (isLoading, userId) => ({ type: \"FOLLOW_STATUS_LOADING\", isLoading, userId});\r\n\r\n\r\nexport const getUser = (currentPage, pageSize) => {\r\n  return async (dispatch) => {\r\n    dispatch(setIsLoadingAC(true));\r\n    dispatch(currentPageAC(currentPage));\r\n    let data = await usersAPI.getUsers(currentPage, pageSize);\r\n    dispatch(setIsLoadingAC(false));\r\n    dispatch(setUserAC(data.items)); //use debugger to know current route of response\r\n    dispatch(totalUserCounterAC(data.totalCount));\r\n  };\r\n};\r\n\r\nconst followUnfollowMethod = async (dispatch,userId,ApiMethod,actionCreator) => {\r\n  dispatch(setFollowingLoaderAC(true, userId));\r\n  let response = await ApiMethod(userId);\r\n  if (response.data.resultCode == 0) {\r\n    dispatch(actionCreator(userId));\r\n  } \r\n  dispatch(setFollowingLoaderAC(false, userId));\r\n}\r\n\r\nexport const follow = (userId) => {\r\n  return async (dispatch) => {\r\n    followUnfollowMethod(dispatch,userId,usersAPI.follow.bind(usersAPI), followSuccess);\r\n  };\r\n};\r\n\r\nexport const unfollow = (userId) => {\r\n\r\n  return async (dispatch) => {\r\n    followUnfollowMethod(dispatch,userId,usersAPI.unfollow.bind(usersAPI),unfollowSuccess);\r\n  }\r\n};\r\n\r\n\r\n\r\n\r\nexport default UsersReducer;\r\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"dialogs\":\"Messages_dialogs__1MGEv\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"message\":\"messageItem_message__3tFj6\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"formSummaryError\":\"login-form_formSummaryError__1xY8U\"};","\r\n\r\nimport * as axios from \"axios\";\r\n\r\n\r\nconst instance = axios.create({\r\n    withCredentials: true,\r\n    baseURL: 'https://social-network.samuraijs.com/api/1.0/',\r\n    headers:     {\r\n        \"API-KEY\": \"a0df2397-7bb5-4c90-a447-742e7484a7a0\"\r\n    }\r\n});\r\n\r\n\r\nexport const usersAPI = {\r\n    \r\n    getUsers(currentPage = 1, pageSize = 15) {\r\n        return instance.get(`users?page=${currentPage}&count=${pageSize}`)\r\n            .then(response => {\r\n                return response.data;\r\n            });\r\n    },\r\n    follow(userId) {\r\n        return instance.post(`follow/${userId}`)\r\n    },\r\n    unfollow(userId) {\r\n        return instance.delete(`follow/${userId}`)\r\n    },\r\n    getProfile(userId) {\r\n        console.warn('Obsolete method. Please use profileAPI.')\r\n        return profileAPI.getProfile(userId);\r\n    }\r\n}\r\n\r\nexport const profileAPI = {\r\n    getProfile(userId) {\r\n        return instance.get(`profile/` + userId)\r\n    },\r\n    getStatus(userId) {\r\n        return instance.get(`profile/status/` + userId)\r\n    },\r\n    updateStatus(status) {\r\n        return instance.put(`profile/status/` , {status}) // in this case we can use only status because it repeats\r\n    }\r\n}\r\n\r\n\r\nexport const authAPI = {\r\n\r\n    authMe() {\r\n        return instance.get(`auth/me`)\r\n    },\r\n    login(email,password,rememberMe = false) {\r\n        return instance.post(`auth/login`, {email,password,rememberMe})\r\n    },\r\n    logOut() {\r\n        return instance.delete(`auth/login`)\r\n    }\r\n}\r\n\r\n","// This optional code is used to register a service worker.\r\n// register() is not called by default.\r\n\r\n// This lets the app load faster on subsequent visits in production, and gives\r\n// it offline capabilities. However, it also means that developers (and users)\r\n// will only see deployed updates on subsequent visits to a page, after all the\r\n// existing tabs open on the page have been closed, since previously cached\r\n// resources are updated in the background.\r\n\r\n// To learn more about the benefits of this model and instructions on how to\r\n// opt-in, read https://bit.ly/CRA-PWA\r\n\r\nconst isLocalhost = Boolean(\r\n  window.location.hostname === 'localhost' ||\r\n    // [::1] is the IPv6 localhost address.\r\n    window.location.hostname === '[::1]' ||\r\n    // 127.0.0.0/8 are considered localhost for IPv4.\r\n    window.location.hostname.match(\r\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\r\n    )\r\n);\r\n\r\nexport function register(config) {\r\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\r\n    // The URL constructor is available in all browsers that support SW.\r\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\r\n    if (publicUrl.origin !== window.location.origin) {\r\n      // Our service worker won't work if PUBLIC_URL is on a different origin\r\n      // from what our page is served on. This might happen if a CDN is used to\r\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\r\n      return;\r\n    }\r\n\r\n    window.addEventListener('load', () => {\r\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\r\n\r\n      if (isLocalhost) {\r\n        // This is running on localhost. Let's check if a service worker still exists or not.\r\n        checkValidServiceWorker(swUrl, config);\r\n\r\n        // Add some additional logging to localhost, pointing developers to the\r\n        // service worker/PWA documentation.\r\n        navigator.serviceWorker.ready.then(() => {\r\n          console.log(\r\n            'This web app is being served cache-first by a service ' +\r\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\r\n          );\r\n        });\r\n      } else {\r\n        // Is not localhost. Just register service worker\r\n        registerValidSW(swUrl, config);\r\n      }\r\n    });\r\n  }\r\n}\r\n\r\nfunction registerValidSW(swUrl, config) {\r\n  navigator.serviceWorker\r\n    .register(swUrl)\r\n    .then(registration => {\r\n      registration.onupdatefound = () => {\r\n        const installingWorker = registration.installing;\r\n        if (installingWorker == null) {\r\n          return;\r\n        }\r\n        installingWorker.onstatechange = () => {\r\n          if (installingWorker.state === 'installed') {\r\n            if (navigator.serviceWorker.controller) {\r\n              // At this point, the updated precached content has been fetched,\r\n              // but the previous service worker will still serve the older\r\n              // content until all client tabs are closed.\r\n              console.log(\r\n                'New content is available and will be used when all ' +\r\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\r\n              );\r\n\r\n              // Execute callback\r\n              if (config && config.onUpdate) {\r\n                config.onUpdate(registration);\r\n              }\r\n            } else {\r\n              // At this point, everything has been precached.\r\n              // It's the perfect time to display a\r\n              // \"Content is cached for offline use.\" message.\r\n              console.log('Content is cached for offline use.');\r\n\r\n              // Execute callback\r\n              if (config && config.onSuccess) {\r\n                config.onSuccess(registration);\r\n              }\r\n            }\r\n          }\r\n        };\r\n      };\r\n    })\r\n    .catch(error => {\r\n      console.error('Error during service worker registration:', error);\r\n    });\r\n}\r\n\r\nfunction checkValidServiceWorker(swUrl, config) {\r\n  // Check if the service worker can be found. If it can't reload the page.\r\n  fetch(swUrl, {\r\n    headers: { 'Service-Worker': 'script' }\r\n  })\r\n    .then(response => {\r\n      // Ensure service worker exists, and that we really are getting a JS file.\r\n      const contentType = response.headers.get('content-type');\r\n      if (\r\n        response.status === 404 ||\r\n        (contentType != null && contentType.indexOf('javascript') === -1)\r\n      ) {\r\n        // No service worker found. Probably a different app. Reload the page.\r\n        navigator.serviceWorker.ready.then(registration => {\r\n          registration.unregister().then(() => {\r\n            window.location.reload();\r\n          });\r\n        });\r\n      } else {\r\n        // Service worker found. Proceed as normal.\r\n        registerValidSW(swUrl, config);\r\n      }\r\n    })\r\n    .catch(() => {\r\n      console.log(\r\n        'No internet connection found. App is running in offline mode.'\r\n      );\r\n    });\r\n}\r\n\r\nexport function unregister() {\r\n  if ('serviceWorker' in navigator) {\r\n    navigator.serviceWorker.ready\r\n      .then(registration => {\r\n        registration.unregister();\r\n      })\r\n      .catch(error => {\r\n        console.error(error.message);\r\n      });\r\n  }\r\n}\r\n","import React from 'react';\r\nimport s from './nav.module.css';\r\nimport { NavLink } from 'react-router-dom';\r\n\r\n\r\nfunction Nav() {\r\n    \r\n\r\n    return (\r\n        <div className={s.nav}>\r\n            <div className={s.box}>\r\n                <img src=\"https://s3.us-east-2.amazonaws.com/upload-icon/uploads/icons/png/16931781451548233622-256.png\"/>\r\n                <NavLink to=\"profile\" className={s.item_button} activeClassName={s.ActiveLink}>Profile</NavLink>\r\n            </div>\r\n                    \r\n            <div className={s.box}>\r\n                <img src=\"https://s3.us-east-2.amazonaws.com/upload-icon/uploads/icons/png/2969073921577437003-256.png\"/>\r\n                <NavLink to=\"Messages\" className={`${s.item_button}  ${s.up}`} activeClassName={s.ActiveLink}>Messages</NavLink>\r\n            </div>\r\n\r\n            <div className={s.box}>\r\n            <   img src=\"https://img.icons8.com/ios-glyphs/30/000000/group.png\"/>\r\n                <NavLink to=\"Users\" className={`${s.item_button}  ${s.up}`} activeClassName={s.ActiveLink}>Users</NavLink>\r\n            </div>\r\n      \r\n            <div className={s.box}>\r\n                <img src=\"https://s3.us-east-2.amazonaws.com/upload-icon/uploads/icons/png/20236604531551938932-256.png\"/>\r\n                <NavLink to=\"Music\" className={`${s.item_button}  ${s.up}`} activeClassName={s.ActiveLink}>Music</NavLink>\r\n            </div>\r\n         \r\n            <div className={s.box}>\r\n                <img src=\"https://s3.us-east-2.amazonaws.com/upload-icon/uploads/icons/png/4429314411556281663-256.png\"/>\r\n                <NavLink to=\"Friends\" className={`${s.item_button}  ${s.up}`} activeClassName={s.ActiveLink}>Friends</NavLink>\r\n            </div>\r\n     \r\n            <div className={s.box}>\r\n                <img src=\"https://s3.us-east-2.amazonaws.com/upload-icon/uploads/icons/png/1222113511552644365-256.png\" />\r\n                <NavLink to=\"Settings\" className={`${s.item_button}  ${s.up}`} activeClassName={s.ActiveLink}>Settings</NavLink>\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Nav;","import React from 'react';\r\nimport s from './Music.module.css';\r\n\r\nfunction Music() {\r\n    return (\r\n        <div>\r\n            Music\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Music;","import React from 'react';\r\nimport s from './Friends.module.css';\r\n\r\nfunction Friends() {\r\n    return (\r\n        <div>\r\n            Friends\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Friends;","import React from 'react';\r\nimport s from './Settings.module.css';\r\n\r\nfunction Settings() {\r\n    return (\r\n        <div>\r\n            Settings\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Settings;","import React from \"react\";\r\nimport s from \"./messageItem.module.css\";\r\nimport { Route } from \"react-router-dom\";\r\n\r\n\r\nfunction MessagesItem(props) {\r\n    return (\r\n      <div className={s.message}>{props.message}</div>\r\n\r\n    )\r\n  }\r\n\r\nexport default MessagesItem;","import React from \"react\";\r\nimport {NavLink} from \"react-router-dom\";\r\nimport s from './item.module.css';\r\n\r\nfunction DialogsItem(props) {\r\n    let path = \"/Messages\" + props.id;\r\n  return (\r\n    <div className={s.boxDialog}>\r\n      <img className={s.photo} src=\"https://encrypted-tbn0.gstatic.com/images?q=tbn%3AANd9GcSm5Dyx-Vf2NrWR0gPUhk74ZOuwDaUjiaG_iUPzETYzhLDTEqF-\"></img>\r\n      <NavLink to={path} className={s.dialogName}>{props.Name}</NavLink>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default DialogsItem;\r\n","import React from 'react';\r\nimport { Field, reduxForm } from 'redux-form';\r\nimport { maxLengthCreator, required } from '../../../Validation/validation';\r\nimport { Textarea } from '../../Commons/MainLoader/FormsControl/forms-control';\r\n\r\nconst MaxLength10 = maxLengthCreator(10);\r\n\r\nconst FormMessage = (props) => {\r\n    return (\r\n        <form onSubmit={props.handleSubmit}>\r\n            <Field component={Textarea} name={'NewMessage'} validate={[required, MaxLength10]}/>\r\n            <button>Send</button>\r\n        </form>\r\n    )\r\n} \r\n\r\nexport const AddMessageReduxForm = reduxForm( {form: 'formMessage'} )(FormMessage)\r\n","import React from \"react\";\r\nimport s from \"./Messages.module.css\";\r\nimport MessagesItem from \"./MessageItem/MessageItem\";\r\nimport DialogsItem from \"./DialogsItem/DialogsItem\";\r\nimport { AddMessageReduxForm } from \"./message-form\";\r\n\r\n\r\n\r\n\r\nfunction Messages(props) {\r\n  let state = props.dialogsPage;\r\n\r\n  let DialogsD = state.DialogsData.map(d => <DialogsItem id={d.id} Name={d.Name} />);\r\n  let MessageD = state.MessagesData.map(m => <MessagesItem message={m.message} />);\r\n\r\n\r\n  let addNewMessage = (values) => {\r\n      props.sendMessage(values.NewMessage)\r\n  }\r\n  \r\n  return (\r\n      <div className={s.dialogs}>\r\n        <div>{DialogsD} </div>\r\n\r\n        <div>\r\n           {MessageD}\r\n          <div>\r\n            <AddMessageReduxForm onSubmit={addNewMessage}  />\r\n          </div>\r\n        </div>\r\n      </div>\r\n  );\r\n}\r\n\r\n\r\n\r\nexport default Messages;\r\n","const SEND_MESSAGE = 'SEND_MESSAGE';\r\n\r\n  \r\nlet initialState = {  \r\n    DialogsData: [\r\n        { id: 1, Name: \"John Price\" },\r\n        { id: 2, Name: \"Antony Hopkins\" },\r\n        { id: 3, Name: \"Marina Wonks\" },\r\n        { id: 4, Name: \"Lara Power\" },\r\n        { id: 5, Name: \"Ronda Rou\" }\r\n      ],\r\n      MessagesData: [\r\n        { message: \"hi Number 1\" },\r\n        { message: \"hi Number 2\" },\r\n        { message: \"hi Number 3\" },\r\n        { message: \"hi Number 4\" },\r\n        { message: \"hi Number 5\" }\r\n      ]\r\n}\r\n    const dialogsPageReducer = (state = initialState,action) => {\r\n        switch (action.type) {\r\n            case SEND_MESSAGE: {\r\n                let newMessage = action.NewMessage;\r\n                return {\r\n                ...state,\r\n                MessagesData: [...state.MessagesData,{id: 6, message: newMessage}]\r\n                }\r\n            }\r\n            default: \r\n                return state;\r\n        }\r\n    \r\n    }\r\n    \r\n//export action objects to Messages\r\nexport const ActionCreatorAddMessage = (NewMessage) => ({type: 'SEND_MESSAGE', NewMessage});\r\n\r\nexport default dialogsPageReducer;","import React from 'react';\r\nimport { Redirect } from 'react-router-dom';\r\nimport { connect } from 'react-redux';\r\n\r\nlet mapStateToProps = (state) => ({ \r\n    isAuth: state.auth.isAuth\r\n});\r\n\r\nexport const withAuthRedirect = (Component) => {\r\n    class RedirectComponent extends React.Component {\r\n        render() {\r\n            if(!this.props.isAuth) return <Redirect to={'/Login'} />\r\n            \r\n            return <Component {...this.props}/>\r\n        }\r\n    }\r\n    let connectAuthRedirectComponent = connect(mapStateToProps)(RedirectComponent);\r\n    \r\n    return connectAuthRedirectComponent;\r\n}\r\n\r\n","import React from \"react\";\r\nimport Messages from \"./Messages\";\r\nimport {ActionCreatorAddMessage} from \"../../../redux/dialogsPage-reducer\";\r\nimport { connect } from \"react-redux\";\r\nimport { withAuthRedirect } from \"../../HOC/withAuthRedirect\";\r\nimport { compose } from \"redux\";\r\n\r\nconst mapStateToProps = (state) => {\r\n  return {\r\n    dialogsPage: state.dialogsPage\r\n  }\r\n}\r\n\r\nconst mapDispatchToProps = (dispatch) => {\r\n  return {\r\n    sendMessage: (NewMessage) => {\r\n      dispatch(ActionCreatorAddMessage(NewMessage));\r\n    }\r\n  }\r\n}\r\n\r\nexport default compose( withAuthRedirect, connect(mapStateToProps, mapDispatchToProps))(Messages);\r\n\r\n\r\n","import React from 'react';\r\nimport s from './header.module.css';\r\nimport { NavLink } from 'react-router-dom';\r\n\r\n\r\nfunction Header(props) {\r\n    \r\n    return (\r\n        <header>\r\n            <div className={s.logo}>Dark Space</div>\r\n            <div className={s.login}>\r\n                {props.isAuth   ? <div>{props.login} <button onClick={props.logOut}>LogOut</button></div>\r\n                                : <NavLink to={'/login'}>Login In </NavLink>}\r\n            </div>\r\n        </header>\r\n    )\r\n}\r\n\r\nexport default Header;","import { authAPI } from \"../API/api\";\r\nimport { stopSubmit } from \"redux-form\";\r\n\r\nconst SET_AUTH = \"SET_AUTH\";\r\n\r\n\r\nlet initialState = {\r\n  userId: null,\r\n  login: null,\r\n  email: null,\r\n  isAuth: false\r\n};\r\n\r\nconst AuthReducer = (state = initialState, action) => {\r\n  switch (action.type) {\r\n    case SET_AUTH:\r\n\r\n      return {\r\n        ...state,\r\n        ...action.payload //more popular 'payload' instead of 'data'\r\n      }\r\n\r\n    default:\r\n      return state;\r\n  }\r\n};\r\n\r\n//  Action Creator\r\nexport const setAuthAC = (userId, email, login, isAuth) => ({ type: \"SET_AUTH\", payload: {userId, email, login,isAuth} });\r\n\r\n\r\nexport const getAuth = () => async (dispatch) => {\r\n  let response =  await authAPI.authMe();\r\n      if (response.data.resultCode === 0) {\r\n          let {id, login, email} = response.data.data;\r\n          dispatch(setAuthAC(id, email, login, true));\r\n      }\r\n}\r\n\r\n\r\n//API thunks of LOGIN/LOGOUT\r\nexport const login = (login, password, rememberMe) =>  async (dispatch) => {\r\n\r\n  let response = await authAPI.login(login, password, rememberMe)\r\n    if (response.data.resultCode === 0) {\r\n      dispatch(setAuthAC());\r\n    } else {\r\n      let message = response.data.messages.length > 0 ? response.data.messages[0] : \"Some error\";\r\n      dispatch(stopSubmit(\"login\", {_error: message}));\r\n    }\t            \r\n};\r\n\r\nexport const logOut = () =>  async (dispatch) => {\r\n  let response = await authAPI.logOut()\r\n    if (response.data.resultCode === 0) {\r\n      dispatch(setAuthAC(null,null,null,false));\r\n    }\r\n};\r\n\r\n\r\n\r\n\r\nexport default AuthReducer;\r\n","\r\nimport React from \"react\";\r\nimport Header from \"./header\";\r\nimport { connect } from \"react-redux\";\r\nimport { logOut } from \"../../redux/auth-reducer\";\r\n\r\n\r\nclass HeaderContainer extends React.Component {\r\n    render() {\r\n        \r\n        return <Header {...this.props} />\r\n    }\r\n}\r\n\r\nconst mapStateToProps = (state) => ({\r\n    isAuth: state.auth.isAuth,\r\n    login: state.auth.login\r\n});\r\n\r\n\r\nexport default connect(mapStateToProps, {logOut})(HeaderContainer);","import React from 'react';\r\nimport {Field, reduxForm} from \"redux-form\";\r\nimport {Input} from \"../../components/Commons/MainLoader/FormsControl/forms-control\"\r\nimport {required} from \"../../Validation/validation\"\r\nimport {connect} from \"react-redux\";\r\nimport {login} from \"../../redux/auth-reducer\";\r\nimport {Redirect} from \"react-router-dom\";\r\nimport s from \"./../Login/login-form.module.css\"\r\nimport { useEffect } from 'react';\r\n\r\nconst LoginForm = (props) => {\r\n    return (\r\n        <form onSubmit={props.handleSubmit}>\r\n            <div>\r\n                <Field placeholder={\"Email\"} name={\"email\"}\r\n                       validate={[required]}\r\n                       component={Input}/>\r\n            </div>\r\n            <div>\r\n                <Field placeholder={\"Password\"} name={\"password\"} type={\"password\"}\r\n                       validate={[required]}\r\n                       component={Input}/>\r\n            </div>\r\n            <div>\r\n                <Field component={Input} name={\"rememberMe\"} type={\"checkbox\"}/> remember me\r\n            </div>\r\n            { props.error && <div className={s.formSummaryError}>\r\n                {props.error}\r\n            </div>\r\n            }\r\n            <div>\r\n                <button>Login</button>\r\n            </div>\r\n        </form>\r\n    )\r\n}\r\n\r\nconst LoginReduxForm =  reduxForm({form: 'login'})(LoginForm)\r\n\r\n\r\nconst Login = (props) => {\r\n    const onSubmit = (formData) => {\r\n        props.login(formData.email, formData.password, formData.rememberMe);\r\n    }\r\n\r\n    if (props.isAuth) {\r\n        return <Redirect to={\"/profile\"} />\r\n    }\r\n\r\n    return <div>\r\n        <h1>Login</h1>\r\n        <LoginReduxForm onSubmit={onSubmit} />\r\n    </div>\r\n}\r\nconst mapStateToProps = (state) => ({\r\n    isAuth: state.auth.isAuth\r\n})\r\n\r\n\r\nexport default connect(mapStateToProps, {login} )(Login);","import { getAuth } from \"./auth-reducer\";\r\n\r\nconst INITIALIZED_SUCCESS = 'INITIALIZED_SUCCESS';\r\n\r\n\r\nlet initialState = {\r\n    initialized: false\r\n};\r\n\r\nconst AppReducer = (state = initialState, action) => {\r\n    switch (action.type) {\r\n        case INITIALIZED_SUCCESS:\r\n            return {\r\n                ...state,\r\n                initialized: true\r\n            }\r\n\r\n        default:\r\n            return state;\r\n    }\r\n}\r\n\r\n\r\nexport const initializedSuccess = () => ({type: INITIALIZED_SUCCESS});\r\n\r\nexport const initializeApp = () => (dispatch) => {\r\n    let promise = dispatch(getAuth());\r\n\r\n    Promise.all([promise])\r\n        .then(() => {\r\n            dispatch(initializedSuccess());\r\n        });\r\n}\r\n\r\n\r\n\r\n\r\nexport default AppReducer;","import { createStore, combineReducers, applyMiddleware, compose } from \"redux\";\r\nimport dialogsPageReducer from \"./dialogsPage-reducer\";\r\nimport postPageReducer from \"./postPage-reducer\";\r\nimport UsersReducer from \"./users-reducer\";\r\nimport AuthReducer from \"./auth-reducer\";\r\nimport thunkMiddleware from \"redux-thunk\";\r\nimport {reducer as formReducer} from \"redux-form\"\r\nimport AppReducer from \"./app-reducer\";\r\n\r\n\r\nlet reducers = combineReducers({\r\n    dialogsPage: dialogsPageReducer,\r\n    postPage: postPageReducer,\r\n    usersPage: UsersReducer,\r\n    auth: AuthReducer,\r\n    form: formReducer,\r\n    app: AppReducer\r\n});\r\n\r\n//tool from Chrome 'redux'\r\nconst composeEnhancers = window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__ || compose;\r\nconst store = createStore(reducers, composeEnhancers(applyMiddleware(thunkMiddleware)));\r\n\r\n// let store = createStore(reducers, applyMiddleware(thunkMiddleware));\r\n\r\nexport default store;\r\n\r\nwindow.store = store;","import React, { Suspense } from \"react\";\r\nimport \"./App.css\";\r\nimport Nav from \"./components/Nav/nav\";\r\nimport Music from \"./components/Nav/N.Music/Music\";\r\nimport Friends from \"./components/Nav/N.Friends/Friends\";\r\nimport Settings from \"./components/Nav/N.Settings/Settings\";\r\nimport { Route, withRouter } from \"react-router-dom\";\r\nimport MessagesContainer from \"./components/Nav/N.Messages/message_container\";\r\nimport HeaderContainer from \"./components/Header/header-container\";\r\nimport Login from \"./components/Login/Login\";\r\nimport { connect } from \"react-redux\";\r\nimport { compose } from \"redux\";\r\nimport MainLoader from \"./components/Commons/MainLoader/MainLoader\";\r\nimport {initializeApp} from \"./redux/app-reducer\"\r\nimport { BrowserRouter } from \"react-router-dom\";\r\nimport {Provider} from \"react-redux\";\r\nimport store from \"./redux/redux-store\";\r\n\r\n// lazy components loading \r\nconst ProfileContainer = React.lazy(() => import('./components/Content/Content-container'));\r\nconst UsersContainer = React.lazy(() => import('./components/Nav/N.Users/Users-container'));\r\n\r\n\r\n\r\n\r\nclass MyWeb extends React.Component {\r\n  componentDidMount() {\r\n    this.props.initializeApp();\r\n }\r\n\r\n  render() {\r\n \r\n    if(!this.props.initialized) {\r\n      return <MainLoader />\r\n    }\r\n\r\n    return (\r\n      <Suspense fallback={<div>Loading...</div>}>\r\n        <div className=\"main-wrapper\">\r\n          <HeaderContainer />\r\n          <Nav />\r\n          <div className=\"main-wrapper-content\">\r\n            <Route path=\"/Login\" render={() => <Login />} />\r\n            <Route path=\"/profile/:userId?\" render={() => <ProfileContainer />} />\r\n            <Route path=\"/Messages\" render={() => <MessagesContainer />} />\r\n            <Route path=\"/Users\" render={() => <UsersContainer />} />\r\n            <Route path=\"/Music\" render={() => <Music />} />\r\n            <Route path=\"/Friends\" render={() => <Friends />} />\r\n            <Route path=\"/Settings\" render={() => <Settings />} />\r\n          </div>\r\n        </div>\r\n      </Suspense>\r\n    );\r\n  }\r\n}\r\n\r\nconst mapStateToProps = (state) => ({\r\n  initialized: state.app.initialized\r\n})\r\n\r\n let AppContainer = compose(withRouter, connect(mapStateToProps, {initializeApp}))(MyWeb); \r\n\r\nconst AppWeb = (props) => {\r\n    return <BrowserRouter>\r\n         <Provider store={store}>\r\n             <AppContainer />\r\n         </Provider>\r\n     </BrowserRouter>\r\n }\r\n\r\n\r\n export default AppWeb;\r\n \r\n\r\n ","import * as serviceWorker from \"./serviceWorker\";\r\nimport React from \"react\";\r\nimport ReactDOM from \"react-dom\";\r\nimport \"./index.css\";\r\nimport AppWeb from './App'\r\n\r\n\r\n\r\n  ReactDOM.render(<AppWeb  /> ,  document.getElementById(\"root\")\r\n  );\r\n\r\n\r\nserviceWorker.unregister();\r\n","import React from 'react'\r\n\r\nexport const required = value => {\r\n    if(value) return undefined  // If the function has not error -> return this value 'undefined'\r\n    return 'This area is not field' //If the function has an error ->return this value 'string'\r\n}\r\n\r\n\r\nexport const maxLengthCreator = (maxLength) => (value) => {\r\n    if(value.length > maxLength) return `Max length is ${maxLength} symbols.`;\r\n    return undefined;\r\n}","import React from 'react'\r\nimport s from './forms-control.module.css'\r\n\r\nexport const Textarea = ({input, meta, ...props}) => {\r\n\r\n    const ValidError = meta.touched  && meta.error;\r\n    return (\r\n        <div className={ (ValidError ? s.formControl : \" \")}>\r\n            <div>\r\n                <textarea {...input} {...props}/>\r\n            </div>\r\n            {ValidError && <span className={s.error}>{meta.error}</span>}\r\n        </div>\r\n    )\r\n}\r\n\r\n\r\nexport const Input = ({input, meta, ...props}) => {\r\n    const ValidError = meta.touched  && meta.error;\r\n\r\n    return (\r\n        <div className={ (ValidError ? s.formControl : \" \")}>\r\n            <div>\r\n                <input {...input} {...props}/>\r\n            </div>\r\n            {ValidError && <span className={s.error}>{meta.error}</span>}\r\n        </div>\r\n    )\r\n}","// extracted by mini-css-extract-plugin\nmodule.exports = {\"formControl\":\"forms-control_formControl__2DQdk\",\"error\":\"forms-control_error__1vi3F\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"photo\":\"item_photo__2ZTss\",\"boxDialog\":\"item_boxDialog__1LrCJ\",\"dialogName\":\"item_dialogName__2gUAf\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"nav\":\"nav_nav__1Iata\",\"item_button\":\"nav_item_button__1qRLY\",\"box\":\"nav_box__1Hp0g\",\"up\":\"nav_up__33Idv\",\"ActiveLink\":\"nav_ActiveLink__2EFhA\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"logo\":\"header_logo__NkNIs\",\"login\":\"header_login__1-Rxs\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"mainBoxLoader\":\"MainLoader_mainBoxLoader__s0sAI\",\"lds_ring\":\"MainLoader_lds_ring__ogxxb\",\"lds-ring\":\"MainLoader_lds-ring__L5T35\"};","import { usersAPI, profileAPI } from \"../API/api\";\r\n\r\nconst ADD_POST = \"ADD_POST\";\r\n\r\nconst PROFILE_PAGE = \"PROFILE_PAGE\";\r\nconst SET_STATUS = 'SET_STATUS'\r\n\r\nlet initialState = {\r\n  PostData: [\r\n    { id: 1, message: \"Hi, This is very good job!\", like: 20 },\r\n    { id: 2, message: \"Oh, this was pretty cool\", like: 10 }\r\n  ],\r\n  profile: null,\r\n  status: \"\"\r\n};\r\n\r\nconst postPageReducer = (state = initialState, action) => {\r\n  switch (action.type) {\r\n    case ADD_POST: {\r\n      let newPost = {\r\n        id: 3,\r\n        message: action.NewPostText,\r\n        like: 0\r\n      };\r\n      return {\r\n        ...state,\r\n        PostData: [newPost, ...state.PostData]\r\n      };\r\n    }\r\n\r\n    \r\n    case SET_STATUS: {\r\n      return {\r\n        ...state,\r\n        status: action.status\r\n      }\r\n    }\r\n\r\n    case PROFILE_PAGE: {\r\n      return {\r\n        ...state, \r\n        profile: action.profile\r\n      }\r\n    }\r\n\r\n    default:\r\n      return state;\r\n  }\r\n};\r\n\r\n// action creator = object which has at least property 'type';\r\n// action objects to MyPost\r\nexport const ActionCreatorAddPost = (NewPostText) => ({ type: \"ADD_POST\", NewPostText });\r\nexport const profileAC = (profile) => ({type: 'PROFILE_PAGE', profile});\r\nexport const setStatus = (status) => ({type: 'SET_STATUS', status});\r\n\r\nexport const getUserAPI = (userId) =>  async (dispatch) => {\r\n\r\n    let response = await usersAPI.getProfile(userId);\r\n    dispatch(profileAC(response.data)); \r\n}\r\n\r\nexport const getStatus = (userId) => async (dispatch) => {\r\n\r\n    let response = await profileAPI.getStatus(userId);\r\n    dispatch(setStatus(response.data)); \r\n}\r\n\r\nexport const updateStatus = (status) => async (dispatch) => {\r\n  let response = await profileAPI.updateStatus(status)\r\n      if(response.data.resultCode === 0) {\r\n      dispatch(setStatus(status));\r\n      \r\n    }\r\n}\r\n\r\nexport default postPageReducer;\r\n","import s from './MainLoader.module.css'\r\nimport React from 'react';\r\n\r\nconst MainLoader = (props) => {\r\n    return (\r\n        <div className={s.mainBoxLoader}><div className={s.lds_ring}><div></div><div></div><div></div><div></div></div></div>\r\n    )\r\n}\r\n\r\nexport default MainLoader;"],"sourceRoot":""}